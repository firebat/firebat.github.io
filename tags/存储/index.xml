<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>存储 on firebat</title><link>https://firebat.github.io/tags/%E5%AD%98%E5%82%A8/</link><description>Recent content in 存储 on firebat</description><generator>Hugo</generator><language>zh-cn</language><lastBuildDate>Wed, 07 Dec 2016 00:00:00 +0800</lastBuildDate><atom:link href="https://firebat.github.io/tags/%E5%AD%98%E5%82%A8/index.xml" rel="self" type="application/rss+xml"/><item><title>存储的发展</title><link>https://firebat.github.io/posts/storage/</link><pubDate>Wed, 07 Dec 2016 00:00:00 +0800</pubDate><guid>https://firebat.github.io/posts/storage/</guid><description>&lt;h2 id="文件系统">文件系统&lt;/h2>
&lt;h3 id="professor-eggerts-dumb-file-system-1974">Professor Eggert&amp;rsquo;s Dumb File System (~1974)&lt;/h3>
&lt;p>Dr.Eggert在本科期间为了“改进UNIX”，创建了他的第一个文件系统。
&lt;img src="./images/eggertfs.png" alt="img">&lt;/p>
&lt;ul>
&lt;li>每个扇区占用512字节&lt;/li>
&lt;li>第一个扇区分成16份，用于存放文件目录&lt;/li>
&lt;li>每个目录条目包含文件名、起始位置、文件大小&lt;/li>
&lt;/ul>
&lt;p>实际上确实有几种文件系统是参照这种方案实现的，比如&lt;a href="https://en.wikipedia.org/wiki/RT-11">RT-11&lt;/a>，广泛用于实时操作系统。&lt;/p>
&lt;h3 id="fat---file-allocation-table-1977">FAT - File Allocation Table (~1977)&lt;/h3>
&lt;p>为了减少碎片化问题，引入了FAT文件分配表
&lt;img src="./images/fat.png" alt="img">&lt;/p>
&lt;ul>
&lt;li>保留地址0块，用于引导扇区&lt;/li>
&lt;li>保留地址1块，用于超级块，包含文件系统信息、版本号、根目录位置等&lt;/li>
&lt;li>每个目录条目包含文件名、扩展名、第一个块地址、文件大小、标志位等信息，目录也是文件&lt;/li>
&lt;li>链表结构，顺序访问慢（可通过碎片整理优化）&lt;/li>
&lt;/ul>
&lt;h3 id="unix-file-system-1973">Unix File System (~1973)&lt;/h3>
&lt;p>&lt;img src="./images/ufs.png" alt="img">&lt;/p>
&lt;ul>
&lt;li>引入inode管理文件索引(index node)&lt;/li>
&lt;li>树形结构&lt;/li>
&lt;/ul>
&lt;h3 id="berkeley-fast-file-system-1980-41b">Berkeley Fast File System (~1980 4.1b)&lt;/h3>
&lt;p>&lt;img src="./images/bffs.png" alt="img">&lt;/p>
&lt;ul>
&lt;li>增加一个块位图，标记数据块是否空闲&lt;/li>
&lt;/ul>
&lt;h2 id="network-file-system">Network File System&lt;/h2>
&lt;p>网络文件系统, 一种使用于分散式文件系统的协定，由Sun公司开发，于1984年向外公布。允许远程主机通过网络挂载文件系统，并像它们是本地挂载的文件系统一样与它们进行交互。
&lt;img src="./images/NAS.gif" alt="img">&lt;/p>
&lt;h3 id="moosefs">MooseFS&lt;/h3>
&lt;p>具有容错性的网络分布式文件系统。它把数据分散存放在多个物理服务器上，而呈现给用户的则是一个统一的资源。&lt;/p>
&lt;ul>
&lt;li>Master server - a single machine managing the whole filesystem, storing metadata for every file.&lt;/li>
&lt;li>Chunk servers - any number of commodity servers storing files data and synchronizing it among themselves.&lt;/li>
&lt;li>Client - any number of machines using &lt;code>mfsmount&lt;/code> process to communicate with the managing server and with chunkservers.&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="./images/mfs_write.png" alt="img">
&lt;img src="./images/mfs_read.png" alt="img">&lt;/p></description></item></channel></rss>